\hypertarget{class_movement_controller}{}\section{Movement\+Controller Class Reference}
\label{class_movement_controller}\index{Movement\+Controller@{Movement\+Controller}}


{\ttfamily \#include $<$Movement\+Controller.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_movement_controller_aed25a9c08f44c223108137bc932ddd35}\label{class_movement_controller_aed25a9c08f44c223108137bc932ddd35}} 
unsigned char {\bfseries init\+Robot} ()
\item 
unsigned char \mbox{\hyperlink{class_movement_controller_a5765726eb4e820a7ac669c88fe4937e7}{get\+Angle\+With\+I\+K\+\_\+tan\+Formula}} (float px, float py, float pz, float \&q1, float \&q2, float \&q3)
\item 
unsigned char \mbox{\hyperlink{class_movement_controller_a53d19d2516a2ed440c2b15fc47ea91b7}{get\+Angle\+With\+IK}} (float px, float py, float pz, float \&q1, float \&q2, float \&q3)
\item 
\mbox{\Hypertarget{class_movement_controller_aa0894291e1ea8f3a34d3382433cced48}\label{class_movement_controller_aa0894291e1ea8f3a34d3382433cced48}} 
unsigned char {\bfseries move\+All\+Legs\+To\+Home\+Pos\+With\+Lifting\+Legs} ()
\item 
\mbox{\Hypertarget{class_movement_controller_a57b517904e0e2f1202f8fdf26af06255}\label{class_movement_controller_a57b517904e0e2f1202f8fdf26af06255}} 
unsigned char {\bfseries do\+One\+Step} (float px, float py, float pz, move\+\_\+mode mode)
\item 
\mbox{\Hypertarget{class_movement_controller_a93ef2bf5b33c95bade19268a176c0a01}\label{class_movement_controller_a93ef2bf5b33c95bade19268a176c0a01}} 
unsigned char {\bfseries do\+One\+Step\+With145} (float px, float py, float pz)
\item 
\mbox{\Hypertarget{class_movement_controller_a8eab727fdaed92f9f0d730d3420bec8e}\label{class_movement_controller_a8eab727fdaed92f9f0d730d3420bec8e}} 
unsigned char {\bfseries do\+One\+Step\+With236} (float px, float py, float pz)
\item 
\mbox{\Hypertarget{class_movement_controller_a4993977dbba4add2583a7e9620374b7e}\label{class_movement_controller_a4993977dbba4add2583a7e9620374b7e}} 
unsigned char {\bfseries calculate\+Linear\+Motion} (unsigned char leg\+Number, float pxold, float pyold, float pzold, float px, float py, float pz, \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} \&var, move\+\_\+direction dir)
\item 
\mbox{\Hypertarget{class_movement_controller_ae301557fb79d1af8ed3684d3f2b95538}\label{class_movement_controller_ae301557fb79d1af8ed3684d3f2b95538}} 
unsigned char {\bfseries calculate\+Ptp\+Motion} (unsigned char leg\+Number, float pxold, float pyold, float pzold, float px, float py, float pz, \mbox{\hyperlink{class_pt_p_motion}{Pt\+P\+Motion}} \&var)
\item 
\mbox{\Hypertarget{class_movement_controller_a7aaae1e7c080967af1621eff35fb7499}\label{class_movement_controller_a7aaae1e7c080967af1621eff35fb7499}} 
unsigned char {\bfseries move\+All\+Legs\+To\+Home\+Pos} ()
\item 
\mbox{\Hypertarget{class_movement_controller_aa95482edf0b3ec0a19b9394b768bf800}\label{class_movement_controller_aa95482edf0b3ec0a19b9394b768bf800}} 
unsigned char {\bfseries move\+Legs\+Simultanously\+Interpolated} (struct \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}}(\&datalegs)\mbox{[}6\mbox{]})
\item 
\mbox{\Hypertarget{class_movement_controller_ac8c9f20a4fb6effc66d0cce8b9bb3581}\label{class_movement_controller_ac8c9f20a4fb6effc66d0cce8b9bb3581}} 
unsigned char {\bfseries move\+Legs\+Simultanously\+Interpolated\+With\+Speed} (struct \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}}(\&datalegs)\mbox{[}6\mbox{]}, float speed)
\item 
\mbox{\Hypertarget{class_movement_controller_a279bbc13d80f3e94917b84e13f177b83}\label{class_movement_controller_a279bbc13d80f3e94917b84e13f177b83}} 
unsigned char {\bfseries move\+Legs145\+\_\+\+Simultanously\+Interpolated} (struct \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} data\+Leg1, struct \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} data\+Leg4, struct \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} data\+Leg5)
\item 
\mbox{\Hypertarget{class_movement_controller_ad25aa3d640fce33f1fb5903e72572cbb}\label{class_movement_controller_ad25aa3d640fce33f1fb5903e72572cbb}} 
unsigned char {\bfseries move\+Legs236\+\_\+\+Simultanously\+Interpolated} (struct \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} data\+Leg2, struct \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} data\+Leg3, struct \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} data\+Leg6)
\item 
\mbox{\Hypertarget{class_movement_controller_a65f8976c91ea4870b364b3fdfea28cd9}\label{class_movement_controller_a65f8976c91ea4870b364b3fdfea28cd9}} 
unsigned char {\bfseries move\+Legs\+Simultanously\+Ptp} (struct \mbox{\hyperlink{class_pt_p_motion}{Pt\+P\+Motion}} data\+Leg1, struct \mbox{\hyperlink{class_pt_p_motion}{Pt\+P\+Motion}} data\+Leg2, struct \mbox{\hyperlink{class_pt_p_motion}{Pt\+P\+Motion}} data\+Leg3, struct \mbox{\hyperlink{class_pt_p_motion}{Pt\+P\+Motion}} data\+Leg4, struct \mbox{\hyperlink{class_pt_p_motion}{Pt\+P\+Motion}} data\+Leg5, struct \mbox{\hyperlink{class_pt_p_motion}{Pt\+P\+Motion}} data\+Leg6)
\item 
\mbox{\Hypertarget{class_movement_controller_aa4cf16451401486bd40e76e0e4b938f9}\label{class_movement_controller_aa4cf16451401486bd40e76e0e4b938f9}} 
unsigned char {\bfseries lower\+Legs} (bool lower\+Leg1, bool lower\+Leg2, bool lower\+Leg3, bool lower\+Leg4, bool lower\+Leg5, bool lower\+Leg6)
\item 
\mbox{\Hypertarget{class_movement_controller_a667f9102c574d94b90a28ef3af2f08cb}\label{class_movement_controller_a667f9102c574d94b90a28ef3af2f08cb}} 
unsigned char {\bfseries lift\+Legs} (bool lift\+Leg1, bool lift\+Leg2, bool lift\+Leg3, bool lift\+Leg4, bool lift\+Leg5, bool lift\+Leg6)
\item 
\mbox{\Hypertarget{class_movement_controller_a21beacef4336e370c4354f068a9fb502}\label{class_movement_controller_a21beacef4336e370c4354f068a9fb502}} 
unsigned char {\bfseries move\+Body\+Servos\+To\+Home} (bool X\+Y\+Home\+Leg1, bool X\+Y\+Home\+Leg2, bool X\+Y\+Home\+Leg3, bool X\+Y\+Home\+Leg4, bool X\+Y\+Home\+Leg5, bool X\+Y\+Home\+Leg6)
\item 
\mbox{\Hypertarget{class_movement_controller_a60394fc92c5874689cb4108f0d67a66a}\label{class_movement_controller_a60394fc92c5874689cb4108f0d67a66a}} 
unsigned char {\bfseries move\+Legs} (float pxold, float pyold, float pzold, float px, float py, float pz)
\item 
\mbox{\Hypertarget{class_movement_controller_a53b401947106872656c4fb1e77b04bba}\label{class_movement_controller_a53b401947106872656c4fb1e77b04bba}} 
unsigned char {\bfseries interpolation\+Angle\+Endposition} (float qend, float qhome, float(\&interpolated\+Angle\+Movement)\mbox{[}10\mbox{]}, float \&movement\+Speed)
\item 
\mbox{\Hypertarget{class_movement_controller_a12ad030f9459004052685722bc56acfb}\label{class_movement_controller_a12ad030f9459004052685722bc56acfb}} 
unsigned char {\bfseries interpolation\+Angle\+For\+Sync\+Lin\+Movement} (float deltaQ, float tb, float tv, float $\ast$interpolated\+Angle\+Movement, float $\ast$interpolated\+Velocity, int size)
\item 
\mbox{\Hypertarget{class_movement_controller_ae58ec5af97b9f1c65c375a779c77cd16}\label{class_movement_controller_ae58ec5af97b9f1c65c375a779c77cd16}} 
unsigned char {\bfseries move\+Leg\+One\+With\+Interpolated\+Position} (float q1old, float q2old, float q3old, float q1, float q2, float q3)
\item 
\mbox{\Hypertarget{class_movement_controller_a0f0576b09a2fc1913998b7723da573a6}\label{class_movement_controller_a0f0576b09a2fc1913998b7723da573a6}} 
unsigned char {\bfseries calculate\+Linear\+Motion\+Inverse} (unsigned char leg\+Number, float pxold, float pyold, float pzold, float px, float py, float pz, \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} \&var)
\item 
\mbox{\Hypertarget{class_movement_controller_a60983e94a4a197f92a932701e357fd34}\label{class_movement_controller_a60983e94a4a197f92a932701e357fd34}} 
unsigned char {\bfseries calculate\+Inverse\+Linear\+Motion\+With\+Raising\+Leg} (unsigned char leg\+Number, float pxold, float pyold, float pzold, float px, float py, float pz, \mbox{\hyperlink{class_motion_sequence}{Motion\+Sequence}} \&var, float raise\+Dis)
\end{DoxyCompactItemize}
\begin{Indent}\textbf{ world\+Coordinates\+To\+Leg\+Coordinates}\par
{\em Converts world coordinates to the specific leg coordinate system. }\begin{DoxyCompactItemize}
\item 
unsigned char \mbox{\hyperlink{class_movement_controller_a0710b423644d46f7391e4b75c5879559}{get\+Leg\+Coordinates\+From\+World\+Coordinates}} (unsigned char leg\+Number, float pk\+Xold, float pk\+Yold, float pk\+Zold, float pwX, float pwY, float pwZ, float \&pkX, float \&pkY, float \&pkZ)
\item 
\mbox{\Hypertarget{class_movement_controller_a328939445cf5c8f7878e9fd44fde3c96}\label{class_movement_controller_a328939445cf5c8f7878e9fd44fde3c96}} 
unsigned char {\bfseries world\+Position\+To\+Leg\+One\+Position} (float pk\+Xold, float pk\+Yold, float pk\+Zold, float pwX, float pwY, float pwZ, float \&pkX, float \&pkY, float \&pkZ)
\item 
\mbox{\Hypertarget{class_movement_controller_a715ebda5d6d77f1763d0288268caf5ae}\label{class_movement_controller_a715ebda5d6d77f1763d0288268caf5ae}} 
unsigned char {\bfseries world\+Position\+To\+Leg\+Two\+Position} (float pk\+Xold, float pk\+Yold, float pk\+Zold, float pwX, float pwY, float pwZ, float \&pkX, float \&pkY, float \&pkZ)
\item 
\mbox{\Hypertarget{class_movement_controller_a1c4c708534a712257c7282638568e9ee}\label{class_movement_controller_a1c4c708534a712257c7282638568e9ee}} 
unsigned char {\bfseries world\+Position\+To\+Leg\+Three\+Position} (float pk\+Xold, float pk\+Yold, float pk\+Zold, float pwX, float pwY, float pwZ, float \&pkX, float \&pkY, float \&pkZ)
\item 
\mbox{\Hypertarget{class_movement_controller_a5ebb5b6f2242350310aede085140cffe}\label{class_movement_controller_a5ebb5b6f2242350310aede085140cffe}} 
unsigned char {\bfseries world\+Position\+To\+Leg\+Four\+Position} (float pk\+Xold, float pk\+Yold, float pk\+Zold, float pwX, float pwY, float pwZ, float \&pkX, float \&pkY, float \&pkZ)
\item 
\mbox{\Hypertarget{class_movement_controller_ad57ba364952a497b5772c67cc27ed797}\label{class_movement_controller_ad57ba364952a497b5772c67cc27ed797}} 
unsigned char {\bfseries world\+Position\+To\+Leg\+Five\+Position} (float pk\+Xold, float pk\+Yold, float pk\+Zold, float pwX, float pwY, float pwZ, float \&pkX, float \&pkY, float \&pkZ)
\item 
\mbox{\Hypertarget{class_movement_controller_ac8928ae991954ef78fc32c9faa0d0c54}\label{class_movement_controller_ac8928ae991954ef78fc32c9faa0d0c54}} 
unsigned char {\bfseries world\+Position\+To\+Leg\+Six\+Position} (float pk\+Xold, float pk\+Yold, float pk\+Zold, float pwX, float pwY, float pwZ, float \&pkX, float \&pkY, float \&pkZ)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}\textbf{ get\+World\+Coordinates\+From\+FK}\par
{\em 
\begin{DoxyParams}{Parameters}
{\em leg\+Number} & The leg to that the coordinate system is transformed \\
\hline
{\em q1,q2,q3} & \mbox{[}deg\mbox{]} Angles that are currently set on the servos. \\
\hline
{\em px,py,pz} & \mbox{[}mm\mbox{]} (return-\/by-\/reference) Calculated position where the chosen leg currently is. Coordinates are given in respect to the world coordinate system. \\
\hline
\end{DoxyParams}
}\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_movement_controller_a252a8052b283372152f3376ea0aee55b}\label{class_movement_controller_a252a8052b283372152f3376ea0aee55b}} 
unsigned char {\bfseries get\+World\+Coordinates\+From\+FK} (unsigned char leg\+Number, float q1, float q2, float q3, float \&px, float \&py, float \&pz)
\item 
\mbox{\Hypertarget{class_movement_controller_a3c86e9f08423c5662e2134736160d539}\label{class_movement_controller_a3c86e9f08423c5662e2134736160d539}} 
unsigned char {\bfseries leg\+One\+F\+K\+Calculation} (float q1, float q2, float q3, float \&px, float \&py, float \&pz)
\item 
\mbox{\Hypertarget{class_movement_controller_ad1349ca3157f098be97571752e55d734}\label{class_movement_controller_ad1349ca3157f098be97571752e55d734}} 
unsigned char {\bfseries leg\+Two\+F\+K\+Calculation} (float q1, float q2, float q3, float \&px, float \&py, float \&pz)
\item 
\mbox{\Hypertarget{class_movement_controller_a30eeaacb6e169c727c4892c65fd2580f}\label{class_movement_controller_a30eeaacb6e169c727c4892c65fd2580f}} 
unsigned char {\bfseries leg\+Three\+F\+K\+Calculation} (float q1, float q2, float q3, float \&px, float \&py, float \&pz)
\item 
\mbox{\Hypertarget{class_movement_controller_ab5811a162191979ea4815219fa9709e9}\label{class_movement_controller_ab5811a162191979ea4815219fa9709e9}} 
unsigned char {\bfseries leg\+Four\+F\+K\+Calculation} (float q1, float q2, float q3, float \&px, float \&py, float \&pz)
\item 
\mbox{\Hypertarget{class_movement_controller_aa1c69d5fe2c7e17ba23de283f85c38a2}\label{class_movement_controller_aa1c69d5fe2c7e17ba23de283f85c38a2}} 
unsigned char {\bfseries leg\+Five\+F\+K\+Calculation} (float q1, float q2, float q3, float \&px, float \&py, float \&pz)
\item 
\mbox{\Hypertarget{class_movement_controller_ab342cee1b0fec3faed3e98c23f50d941}\label{class_movement_controller_ab342cee1b0fec3faed3e98c23f50d941}} 
unsigned char {\bfseries leg\+Six\+F\+K\+Calculation} (float q1, float q2, float q3, float \&px, float \&py, float \&pz)
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Public Attributes}
\textbf{ }\par
\begin{DoxyCompactItemize}
\item 
A\+X12A \mbox{\hyperlink{class_movement_controller_ac4642ac20e0affff60ff0b8c0e5efdbb}{m\+\_\+\+Servo\+Com\+Object1}}
\begin{DoxyCompactList}\small\item\em Three objects of the class A\+X12A are created. To enable parallel communication with three serial ports on the Arduino. \end{DoxyCompactList}\item 
A\+X12A \mbox{\hyperlink{class_movement_controller_abd74aff807ff311c6891311414ae3993}{m\+\_\+\+Servo\+Com\+Object2}}
\item 
A\+X12A \mbox{\hyperlink{class_movement_controller_afbe7c5a0e099b5e879d64b6ab72f7127}{m\+\_\+\+Servo\+Com\+Object3}}
\end{DoxyCompactItemize}

\textbf{ }\par
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_movement_controller_a13bd6406481979df9aa10857a38d3381}\label{class_movement_controller_a13bd6406481979df9aa10857a38d3381}} 
\mbox{\hyperlink{class_leg}{Leg}} \mbox{\hyperlink{class_movement_controller_a13bd6406481979df9aa10857a38d3381}{m\+\_\+\+Leg1}}
\begin{DoxyCompactList}\small\item\em Every leg on the hexapod can be individually controlled by following objects. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_movement_controller_a98baf7599b6b5c5a4dc852301dc19268}\label{class_movement_controller_a98baf7599b6b5c5a4dc852301dc19268}} 
\mbox{\hyperlink{class_leg}{Leg}} {\bfseries m\+\_\+\+Leg2}
\item 
\mbox{\Hypertarget{class_movement_controller_a0d4edfeb6b4c2ad57dd3b1e387bc4de9}\label{class_movement_controller_a0d4edfeb6b4c2ad57dd3b1e387bc4de9}} 
\mbox{\hyperlink{class_leg}{Leg}} {\bfseries m\+\_\+\+Leg3}
\item 
\mbox{\Hypertarget{class_movement_controller_a8f776e74969ff7983f6cc6909e1dec27}\label{class_movement_controller_a8f776e74969ff7983f6cc6909e1dec27}} 
\mbox{\hyperlink{class_leg}{Leg}} {\bfseries m\+\_\+\+Leg4}
\item 
\mbox{\Hypertarget{class_movement_controller_aa72587ce1fb41820aa9a8f3b94496e69}\label{class_movement_controller_aa72587ce1fb41820aa9a8f3b94496e69}} 
\mbox{\hyperlink{class_leg}{Leg}} {\bfseries m\+\_\+\+Leg5}
\item 
\mbox{\Hypertarget{class_movement_controller_a7844bc42dba768e27bb5eb86bea99ef6}\label{class_movement_controller_a7844bc42dba768e27bb5eb86bea99ef6}} 
\mbox{\hyperlink{class_leg}{Leg}} {\bfseries m\+\_\+\+Leg6}
\item 
\mbox{\Hypertarget{class_movement_controller_a256c516f976d788154a0bf2420f1d363}\label{class_movement_controller_a256c516f976d788154a0bf2420f1d363}} 
\mbox{\hyperlink{class_leg}{Leg}} $\ast$ {\bfseries p\+Legs} \mbox{[}6\mbox{]}
\end{DoxyCompactItemize}



\subsection{Detailed Description}
Rough structure of the hexapod to understand the naming of the six legs. To find the \char`\"{}\+U\+P\char`\"{} position please look on the backside of the robot. 
\begin{DoxyPre}
\begin{DoxyVerb}leg2                  leg1
<===\     /"UP"\     /===>
     \==|--------|==/
        |--------|
leg4    |--------|  leg3
<=======|--------|=======>
        |--------|
        |--------|
leg6 /==|--------|==\leg5
<===/   |--------|   \===>
\end{DoxyVerb}

\end{DoxyPre}
 ~\newline
Rough structure of the hexapod to understand the naming of the three servos on one leg. \begin{DoxyVerb}         (LeftLeg)                      Hexapod                          (RightLeg) 
                            /////######################\\\\\        
       _____________     BodyServo                   BodyServo          _____________
       LowerLegServo      /////#########################\\\\\           LowerLegServo
     /////      \\\\\    /////                           \\\\\        /////      \\\\\
    /////        \\\\\  /////                             \\\\\      /////        \\\\\
   /////        MiddleLegServo                             MiddleLegServo          \\\\\
____\/__________________________________ Ground______________________________________\/______                                                            
\end{DoxyVerb}
 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_movement_controller_a53d19d2516a2ed440c2b15fc47ea91b7}\label{class_movement_controller_a53d19d2516a2ed440c2b15fc47ea91b7}} 
\index{Movement\+Controller@{Movement\+Controller}!get\+Angle\+With\+IK@{get\+Angle\+With\+IK}}
\index{get\+Angle\+With\+IK@{get\+Angle\+With\+IK}!Movement\+Controller@{Movement\+Controller}}
\subsubsection{\texorpdfstring{get\+Angle\+With\+I\+K()}{getAngleWithIK()}}
{\footnotesize\ttfamily unsigned char Movement\+Controller\+::get\+Angle\+With\+IK (\begin{DoxyParamCaption}\item[{float}]{px,  }\item[{float}]{py,  }\item[{float}]{pz,  }\item[{float \&}]{q1,  }\item[{float \&}]{q2,  }\item[{float \&}]{q3 }\end{DoxyParamCaption})}

get\+Angle\+With\+IK  calculates the angles q1 \mbox{[}rad/sec\mbox{]}, q2 \mbox{[}rad/sec\mbox{]} and q3 \mbox{[}rad/sec\mbox{]} for the desired movement in px \mbox{[}mm\mbox{]}, py \mbox{[}mm\mbox{]} and pz \mbox{[}mm\mbox{]} 
\begin{DoxyParams}{Parameters}
{\em px,py,py} & \mbox{[}mm\mbox{]} desired coordinates \\
\hline
{\em q1,q2,q3} & \mbox{[}deg\mbox{]}(return-\/by-\/reference) calculated angles for the desired movement. Angle values are adapted to the servo settings \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns an error code, if problems occur. Else it returns 1 
\end{DoxyReturn}
\mbox{\Hypertarget{class_movement_controller_a5765726eb4e820a7ac669c88fe4937e7}\label{class_movement_controller_a5765726eb4e820a7ac669c88fe4937e7}} 
\index{Movement\+Controller@{Movement\+Controller}!get\+Angle\+With\+I\+K\+\_\+tan\+Formula@{get\+Angle\+With\+I\+K\+\_\+tan\+Formula}}
\index{get\+Angle\+With\+I\+K\+\_\+tan\+Formula@{get\+Angle\+With\+I\+K\+\_\+tan\+Formula}!Movement\+Controller@{Movement\+Controller}}
\subsubsection{\texorpdfstring{get\+Angle\+With\+I\+K\+\_\+tan\+Formula()}{getAngleWithIK\_tanFormula()}}
{\footnotesize\ttfamily unsigned char Movement\+Controller\+::get\+Angle\+With\+I\+K\+\_\+tan\+Formula (\begin{DoxyParamCaption}\item[{float}]{px,  }\item[{float}]{py,  }\item[{float}]{pz,  }\item[{float \&}]{q1,  }\item[{float \&}]{q2,  }\item[{float \&}]{q3 }\end{DoxyParamCaption})}

get\+Angle\+With\+I\+K\+\_\+tan\+Formula  calculates the angles q1 \mbox{[}rad/sec\mbox{]}, q2 \mbox{[}rad/sec\mbox{]} and q3 \mbox{[}rad/sec\mbox{]} for the desired movement in px \mbox{[}mm\mbox{]}, py \mbox{[}mm\mbox{]} and pz \mbox{[}mm\mbox{]} A error from this formula can be expected, due to the use of the tan-\/function. For better results, use the \textquotesingle{}get\+Angle\+With\+IK(...)\textquotesingle{} function. 
\begin{DoxyParams}{Parameters}
{\em px,py,py} & \mbox{[}mm\mbox{]} desired coordinates \\
\hline
{\em q1,q2,q3} & \mbox{[}deg\mbox{]}(return-\/by-\/reference) calculated angles for the desired movement. Angle values are adapted to the servo settings \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns an error code, if problems occur. Else it returns 1 
\end{DoxyReturn}
\mbox{\Hypertarget{class_movement_controller_a0710b423644d46f7391e4b75c5879559}\label{class_movement_controller_a0710b423644d46f7391e4b75c5879559}} 
\index{Movement\+Controller@{Movement\+Controller}!get\+Leg\+Coordinates\+From\+World\+Coordinates@{get\+Leg\+Coordinates\+From\+World\+Coordinates}}
\index{get\+Leg\+Coordinates\+From\+World\+Coordinates@{get\+Leg\+Coordinates\+From\+World\+Coordinates}!Movement\+Controller@{Movement\+Controller}}
\subsubsection{\texorpdfstring{get\+Leg\+Coordinates\+From\+World\+Coordinates()}{getLegCoordinatesFromWorldCoordinates()}}
{\footnotesize\ttfamily unsigned char Movement\+Controller\+::get\+Leg\+Coordinates\+From\+World\+Coordinates (\begin{DoxyParamCaption}\item[{unsigned char}]{leg\+Number,  }\item[{float}]{pk\+Xold,  }\item[{float}]{pk\+Yold,  }\item[{float}]{pk\+Zold,  }\item[{float}]{pwX,  }\item[{float}]{pwY,  }\item[{float}]{pwZ,  }\item[{float \&}]{pkX,  }\item[{float \&}]{pkY,  }\item[{float \&}]{pkZ }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em leg\+Number} & The leg to that the coordinate system is transformed \\
\hline
{\em pk\+Xold,pk\+Yold,pk\+Zold} & \mbox{[}mm\mbox{]} Current position of the leg in the leg coordinate system \\
\hline
{\em pwX,pwY,pwZ} & \mbox{[}mm\mbox{]} New desired position. Given in the world coordinate system. \\
\hline
{\em pkX,pkY,pkZ} & \mbox{[}mm\mbox{]}(return-\/by-\/reference) New calculated position in specific leg coordinate system. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Returns} & an error code, if problems occur. Else it returns 1 \\
\hline
\end{DoxyRetVals}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_movement_controller_ac4642ac20e0affff60ff0b8c0e5efdbb}\label{class_movement_controller_ac4642ac20e0affff60ff0b8c0e5efdbb}} 
\index{Movement\+Controller@{Movement\+Controller}!m\+\_\+\+Servo\+Com\+Object1@{m\+\_\+\+Servo\+Com\+Object1}}
\index{m\+\_\+\+Servo\+Com\+Object1@{m\+\_\+\+Servo\+Com\+Object1}!Movement\+Controller@{Movement\+Controller}}
\subsubsection{\texorpdfstring{m\+\_\+\+Servo\+Com\+Object1}{m\_ServoComObject1}}
{\footnotesize\ttfamily A\+X12A Movement\+Controller\+::m\+\_\+\+Servo\+Com\+Object1}



Three objects of the class A\+X12A are created. To enable parallel communication with three serial ports on the Arduino. 

Communication object \mbox{\Hypertarget{class_movement_controller_abd74aff807ff311c6891311414ae3993}\label{class_movement_controller_abd74aff807ff311c6891311414ae3993}} 
\index{Movement\+Controller@{Movement\+Controller}!m\+\_\+\+Servo\+Com\+Object2@{m\+\_\+\+Servo\+Com\+Object2}}
\index{m\+\_\+\+Servo\+Com\+Object2@{m\+\_\+\+Servo\+Com\+Object2}!Movement\+Controller@{Movement\+Controller}}
\subsubsection{\texorpdfstring{m\+\_\+\+Servo\+Com\+Object2}{m\_ServoComObject2}}
{\footnotesize\ttfamily A\+X12A Movement\+Controller\+::m\+\_\+\+Servo\+Com\+Object2}

Communication object \mbox{\Hypertarget{class_movement_controller_afbe7c5a0e099b5e879d64b6ab72f7127}\label{class_movement_controller_afbe7c5a0e099b5e879d64b6ab72f7127}} 
\index{Movement\+Controller@{Movement\+Controller}!m\+\_\+\+Servo\+Com\+Object3@{m\+\_\+\+Servo\+Com\+Object3}}
\index{m\+\_\+\+Servo\+Com\+Object3@{m\+\_\+\+Servo\+Com\+Object3}!Movement\+Controller@{Movement\+Controller}}
\subsubsection{\texorpdfstring{m\+\_\+\+Servo\+Com\+Object3}{m\_ServoComObject3}}
{\footnotesize\ttfamily A\+X12A Movement\+Controller\+::m\+\_\+\+Servo\+Com\+Object3}

Communication object 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{_movement_controller_8h}{Movement\+Controller.\+h}}\item 
\mbox{\hyperlink{_movement_controller_8cpp}{Movement\+Controller.\+cpp}}\end{DoxyCompactItemize}
